---
title: "Tooltip component íŠ¸ëŸ¬ë¸” ìŠˆíŒ…"
date: 2022-03-13
---

# ë¬¸ì œìƒí™©

> Tooltipì— mouse hoverí• ë•Œë§ˆë‹¤ ìŠ¤í¬ë¡¤ì´ ë¹ ë¥´ê²Œ ìƒê²¼ë‹¤ ì‚¬ë¼ì¡Œë‹¤.  
> overflow hiddenì¸ë°ë„ ì•„ë˜ì™€ ê°™ì€ í˜„ìƒì´ ë°œìƒë˜ì—ˆë‹¤.

![](https://images.velog.io/images/nsunny0908/post/6e057e9c-c6b1-43c7-b66b-4619554281ad/2022-02-24_16.36.03.gif)

# ì›ì¸

í™•ì‹¤í•˜ì§„ ì•Šì§€ë§Œ, hover í• ë•Œë§ˆë‹¤ x, yì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•´ modalì„ ë„ì›Œì£¼ê³  ìˆëŠ”ë°, hover ì†ë„ì— ë¹„í•´ ìœ„ì¹˜ ê³„ì‚°í•˜ëŠ” ë¡œì§ì´ ëŠ¦ê²Œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì¸ ê²ƒ ê°™ë‹¤.

```ts
const openTooltip = () => {
  setIsHover(true)
}

const closeTooltip = () => {
  setIsHover(false)
}

useEffect(() => {
  if (!anchorRef.current || !contentRef.current) {
    return
  }
  const anchorRect = anchorRef.current.getBoundingClientRect()
  const contentRect = contentRef.current.getBoundingClientRect()

  const { x, y } = calcAnchorCoord({
    anchorRect,
    contentRect,
    anchorOrigin,
    transformOrigin,
    anchorPosition,
  })

  contentRef.current.style.left = `${x}px`
  contentRef.current.style.top = `${y}px`
}, [isHover])
```

# í•´ê²°ë²•

- setTimeOut

tooltipì„ openì‹œì— ìŠ¤í¬ë¡¤ì´ ìƒê²¼ë‹¤ ì‚¬ë¼ì§€ë¯€ë¡œ setIsHover(true)ë¥¼ setTimeoutìœ¼ë¡œ ê°ì‹¸ì£¼ì—ˆë”ë‹ˆ í•´ê²°ë˜ì—ˆë‹¤.

```tsx
const openTooltip = () => {
  setTimeout(() => {
    setIsHover(true)
  })
}
```

ê·¸ë ‡ì§€ë§Œ, setTimeoutìœ¼ë¡œ í•´ê²°í•˜ëŠ” ê²ƒì€ ì™ ì§€ ê¼¼ìˆ˜(?)ê°™ì€ ëŠë‚Œì´ ë“¤ì–´, ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ í—¤ë§¸ë‹¤.

- useLayoutEffect

ìœ„ì¹˜ ê³„ì‚° í•˜ëŠ” ë¡œì§ì— useEffect ëŒ€ì‹  useLayoutEffectë¥¼ ì‚¬ìš©í•˜ë‹ˆ ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆë‹¤.

```ts
useLayoutEffect(() => {
  if (!anchorRef.current || !contentRef.current) {
    return
  }
  const anchorRect = anchorRef.current.getBoundingClientRect()
  const contentRect = contentRef.current.getBoundingClientRect()

  const { x, y } = calcAnchorCoord({
    anchorRect,
    contentRect,
    anchorOrigin,
    transformOrigin,
    anchorPosition,
  })

  contentRef.current.style.left = `${x}px`
  contentRef.current.style.top = `${y}px`
}, [isHover])
```

# useEffect vs useLayoutEffect

### useEffect

- ì»´í¬ë„ŒíŠ¸ë“¤ì´ render(DOM Treeë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ ê° elementì˜ ìŠ¤íƒ€ì¼ ì†ì„±ì„ ê³„ì‚°í•˜ëŠ” ê³¼ì •)ì™€ paint(ì‹¤ì œ ìŠ¤í¬ë¦°ì— Layoutì„ í‘œì‹œí•˜ê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •)ëœ í›„ ì‹¤í–‰ëœë‹¤.  
  ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.  
  paintëœ í›„ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, useEffect ë‚´ë¶€ì— domì— ì˜í–¥ì„ ì£¼ëŠ” ì½”ë“œê°€ ìˆì„ ê²½ìš° ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” í™”ë©´ì˜ ê¹œë¹¡ì„ì„ ë³´ê²Œë  ìˆ˜ ìˆë‹¤.

### useLayoutEffect

https://ko.reactjs.org/docs/hooks-reference.html#uselayouteffect

- ì»´í¬ë„ŒíŠ¸ë“¤ì´ renderëœ í›„ ì‹¤í–‰ë˜ë©°, ê·¸ ì´í›„ì— paintê°€ ëœë‹¤.  
  ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.  
  paintê°€ ë˜ê¸°ì „ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— domì„ ì¡°ì‘í•˜ëŠ” ì½”ë“œê°€ ì¡´ì¬í•˜ë”ë¼ë„ ì‚¬ìš©ìëŠ” ê¹œë¹¡ì„ì„ ê²½í—˜í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ëŸ¬í•œ useEffectì™€ useLayoutEffectì˜ ì°¨ì´ì  ë•Œë¬¸ì—
useEffectë¥¼ ì‚¬ìš©í–ˆì„ ë•, tooltipì„ ë§ˆìš°ìŠ¤ì˜¤ë²„í–ˆì„ë•Œ ê¹œë¹¡ê±°ë¦¬ë©° ìŠ¤í¬ë¡¤ì´ ìƒê²¼ë‹¤ ì‚¬ë¼ì§€ëŠ” í˜„ìƒì´ ë‚˜íƒ€ë‚¬ê³  useLayoutEffectì„ ì‚¬ìš©í•˜ë‹ˆ ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆë˜ ê²ƒ ê°™ë‹¤.

### setTimeOutìœ¼ë¡œ í•´ê²°ë˜ì—ˆë˜ ì´ìœ ëŠ”?

![](https://images.velog.io/images/nsunny0908/post/2e426cdf-0868-4f9c-b840-dc7e74f48361/image.png)

ë‚´ ì˜ˆìƒìœ¼ë¡œëŠ” í˜¸ì¶œìŠ¤íƒì— ìŒ“ì—¬ìˆë˜ ëª¨ë“  ê²ƒë“¤ì´ ì²˜ë¦¬ë˜ê³  ë‚œ í›„ì— ë°‘ì˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ì—ˆê¸° ë•Œë¬¸..? ğŸ¤”
